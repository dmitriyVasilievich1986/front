(self.webpackChunkreact_front=self.webpackChunkreact_front||[]).push([[472],{4080:(e,t,r)=>{"use strict";var n=r(5318),a=r(862);t.Z=void 0;var o=a(r(7294)),l=(0,n(r(2108)).default)(o.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");t.Z=l},4472:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(7144),a=r(2084),o=r(5977),l=r(3727),c=r(7703),s=r(7294),u=r(9669),i=r.n(u),m=r(3517),d=r(4080);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t,r,n,a,o){return s.createElement("div",{style:{display:"flex",marginTop:"2rem"}},s.createElement(e,null),s.createElement("input",{className:"login-input",onChange:function(e){a(""),n(e.target.value)},placeholder:t,onKeyDown:o,value:r,type:"text"}))}const h=(0,c.$j)((function(e){return{user:e.main.user}}),{updateProperties:n.z})((function(e){var t=f(s.useState(""),2),r=t[0],n=t[1],c=f(s.useState(""),2),u=c[0],p=c[1],h=f(s.useState(""),2),y=h[0],g=h[1],E=f(s.useState(""),2),b=E[0],S=E[1],w=f(s.useState(""),2),k=w[0],N=w[1],A=f(s.useState(""),2),j=A[0],x=A[1],C=function(t){if(r==u){var n={password:u,username:y};i().post("/auth/accounts/",n).then((function(t){var r=t.data.token,n=new a.n(t.data);e.updateProperties({token:r,user:n}),localStorage.setItem("token",r)})).catch((function(e){var t,r,n,a;x((null===(t=e.response.data)||void 0===t?void 0:t.username)&&(null===(r=e.response.data)||void 0===r?void 0:r.username[0])),N((null===(n=e.response.data)||void 0===n?void 0:n.password)&&(null===(a=e.response.data)||void 0===a?void 0:a.password[0]))}))}else S("пароли не совпадают")},Z=function(e){"Enter"==e.key&&C()};return null!=e.user?s.createElement(o.l_,{to:"/"}):s.createElement("div",{className:"login"},s.createElement("div",{style:{marginBottom:"5rem"}},s.createElement("img",{src:"/static/image/favicon.png",style:{height:"70px",width:"70px"}}),s.createElement("h3",{className:"ml1"},"Astreon")),v(m.Z,"Логин",y,g,x,Z),s.createElement("h5",{className:"error"},j),v(d.Z,"Пароль",u,p,N,Z),s.createElement("h5",{className:"error"},k),v(d.Z,"Повторите пароль",r,n,S,Z),s.createElement("h5",{className:"error"},b),s.createElement("button",{onClick:C,className:"enter-btn mb3"},s.createElement("h3",null,"Создать")),s.createElement("p",null,"Уже есть аккаунт?"),s.createElement(l.rU,{to:"/login"},s.createElement("h3",{className:"link-gray"},"Войти")))}))}}]);